---
import { urlForImage } from '~/utils/sanity';
import Image from '~/components/common/Image.astro';

const { member } = Astro.props;
---

<div
  class={`max-w-md mx-auto md:max-w-none grid gap-6 md:gap-8 intersect-once intersect-quarter motion-safe:md:opacity-0 motion-safe:md:intersect:animate-fade ${member.image ? 'md:grid-cols-2' : ''}`}
>
  <div
    class="relative h-0 pb-[56.25%] md:pb-[75%] md:h-72 lg:pb-[56.25%] overflow-hidden bg-gray-400 dark:bg-slate-700 rounded shadow-lg"
  >
    {
      member.image && (
        <Image
          src={urlForImage(member.image).width(400).url()}
          class="absolute inset-0 object-cover w-full h-full mb-6 rounded shadow-lg bg-gray-400 dark:bg-slate-700"
          widths={[400, 900]}
          width={900}
          sizes="(max-width: 900px) 600px, 900px"
          alt={member.name}
          aspectRatio="16:9"
          loading="lazy"
          decoding="async"
        />
      )
    }
  </div>
  <div class="mt-2">
    <header>
      <div class="mb-1">
        <span class="text-sm">
          {member.position}
        </span>
      </div>
      <h2 class="text-xl sm:text-2xl font-bold leading-tight mb-2 font-heading dark:text-slate-300">
        {member.name}
      </h2>
    </header>

    {member.description && <p class="flex-grow text-muted dark:text-slate-400 text-lg">{member.description}</p>}
  </div>
</div>
