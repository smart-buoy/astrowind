---
import { getLangFromUrl, useTranslations } from '~/i18n/utils';
import Hero2 from '~/components/widgets/Hero2.astro';
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';
import AboutTimeline from '~/components/widgets/AboutTimeline.astro';

const language = getLangFromUrl(Astro.url);
const t = useTranslations(language);

import aboutImage from '~/assets/images/ueberuns.jpg';

const bullets = (t('about.story.bullets') as string).split('|');
---

<Hero2
  tagline={t('about.hero.tagline')}
  image={{
    src: aboutImage.src,
    alt: 'SmartBuoy team on the water',
    width: aboutImage.width,
    height: aboutImage.height,
  }}
>
  <Fragment slot="title">
    <span class="text-primary dark:text-white highlight">{t('about.hero.title')}</span> <br />
    {t('about.hero.subtitle')}
  </Fragment>

  <Fragment slot="subtitle"></Fragment>
</Hero2>

<WidgetWrapper id="intro" containerClass="max-w-5xl">
  <div class="prose prose-lg dark:prose-invert max-w-none text-left">
    <p class="text-muted dark:text-slate-300">{t('about.intro.paragraph1')}</p>
    <h2 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mt-6 mb-4 font-heading">
      {t('about.intro.subheadline')}
    </h2>
  </div>
</WidgetWrapper>

<WidgetWrapper id="story" containerClass="max-w-5xl">
  <div class="prose prose-lg dark:prose-invert max-w-none text-left">
    <h2 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-6 font-heading">
      {t('about.story.title')}
    </h2>
    <p class="text-muted dark:text-slate-300">{t('about.story.paragraph1')}</p>
    <p class="text-muted dark:text-slate-300">{t('about.story.paragraph2')}</p>
    <ul class="list-disc pl-6 space-y-2 text-muted dark:text-slate-300 my-6">
      {bullets.map((item) => (
        <li key={item.trim()}>{item.trim()}</li>
      ))}
    </ul>
    <p class="text-muted dark:text-slate-300">{t('about.story.conclusion')}</p>
  </div>
</WidgetWrapper>

<AboutTimeline />
